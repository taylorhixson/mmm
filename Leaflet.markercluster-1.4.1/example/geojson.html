<!DOCTYPE html>
<html>
<head>
	<title>NYUAD Micro-memories map</title>

	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" integrity="sha512-07I2e+7D8p6he1SIM+1twR5TIrhUQn9+I6yjqD53JQjFiMf8EtC93ty0/5vJTZGF8aAocvHYNEDJajGdNx1IsQ==" crossorigin="" />
	<script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet-src.js" integrity="sha512-WXoSHqw/t26DszhdMhOXOkI7qCiv5QWXhH9R7CgvgZMHz1ImlkVQ3uNsiQKu5wwbbxtPzFXd1hK4tzno2VqhpA==" crossorigin=""></script>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="screen.css" />

	<link rel="stylesheet" href="../dist/MarkerCluster.css" />
	<link rel="stylesheet" href="../dist/MarkerCluster.Default.css" />
	<script src="../dist/leaflet.markercluster-src.js"></script>

	<style>
	#map {width: 100% }
	</style>

</head>
<body>

	<div id="map"></div>

	<script type="text/javascript">

		var geoJsonData = {
		"type": "FeatureCollection",
		"name": "mapDemo",
		"crs": { "type": "name", "properties": { "name": "urn:ogc:def:crs:OGC:1.3:CRS84" } },
		"features": [
		{ "type": "Feature", "properties": { "Story title": "Final applause", "Building": "A4", "Room": "The Gazelle editing room", "Floor": 0, "latitude": 24.52332132, "longitude": 54.43391379, "MicroMemory Description": "In the newsroom of NYUAD's student-run, independent newspaper The Gazelle, weekly issues are published each Saturday evening. Former Chief Editor Laura Assanmal, from her joint interview with Kaashif Hajee, shares how as writers complete their pieces and stand up to leave for the night, a team tradition is to serve them a round of applause.", "Audio clip": "<a href=\"https:\/\/soundcloud.com\/user-823469341\/032_nyuad-memory_gazelle-editors\/s-4k4XyccDGsk?in=user-823469341\/sets\/nyuad-memory-project_map-of\/s-i5y4xOQm9pc&si=cbd58b9b08ba47cdb4f4be9d8cedd70e\">Listen to the story<\/a>", "Image": "<img src=\"https:\/\/github.com\/taylorhixson\/mmm\/blob\/main\/gazelle.png?raw=true\" alt=\"Screenshot from The Gazelle Previous issues page\">", "Finding aid": null, "img src": "Screenshot from The Gazelle Previous issues page" }, "geometry": { "type": "Point", "coordinates": [ 54.43391379, 24.52332132 ] } },
		{ "type": "Feature", "properties": { "Story title": "Community Meal Mentors", "Building": "C3", "Room": "Arts Center", "Floor": 0, "latitude": 24.52340901, "longitude": 54.43587427, "MicroMemory Description": "NYUAD Arts Center Executive Director Bill Bragin shares an example of synergies created through one of the Center's valued traditions: community meals. ", "Audio clip": "<a href=\"https:\/\/soundcloud.com\/user-823469341\/013_nyuad-memory-project_arts-center-community-meals\/s-S8JTJ3eLKFf?si=10240fa2321f42ffaee672a184d09ca4\">Listen to the story<\/a>", "Image": "<img src=\"https:\/\/github.com\/taylorhixson\/mmm\/blob\/main\/arts.jpeg?raw=true\" alt=\"NYUAD Arts Center Logo\">", "Finding aid": null, "img src": "image saved from Arts Center Facebook page" }, "geometry": { "type": "Point", "coordinates": [ 54.43587427, 24.52340901 ] } },
		{ "type": "Feature", "properties": { "Story title": "Dining Hall Family", "Building": "D2", "Room": "Dining Hall", "Floor": 0, "latitude": 24.52265494, "longitude": 54.4361532, "MicroMemory Description": "NYUAD Class of 2015 Alumna Krushika Patankar reflects on the community created between students and the dining hall staff, and how during her time at NYUAD, the relationship resembled a family.", "Audio clip": "<a href=\"https:\/\/soundcloud.com\/user-823469341\/027_nyuad-memory-project_alumna-krushika-patankar\/s-WJPtuHA1qV2?in=user-823469341\/sets\/nyuad-memory-project_map-of\/s-i5y4xOQm9pc&si=c59eafde586649b9b149037b9bb190bc\">Listen to the story<\/a>", "Image": "<img src=\"https:\/\/github.com\/taylorhixson\/mmm\/blob\/main\/dine.jpeg?raw=true\" alt=\"Three people at an NYUAD Dining Hall table\">", "Finding aid": null, "img src": "https:\/\/nyuad.nyu.edu\/en\/campus-life\/housing\/dining.html#tab-1-dining-halls" }, "geometry": { "type": "Point", "coordinates": [ 54.4361532, 24.52265494 ] } }
		]
		}

;


		var tiles = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
			maxZoom: 18,
			attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
		});

		var map = L.map('map')
				.addLayer(tiles);

		var markers = L.markerClusterGroup();

		var geoJsonLayer = L.geoJson(geoJsonData, {

			style: function (feature) {
				return {color: feature.properties.color};
			},

			onEachFeature: function (feature, layer) {
				var popupText = '<b>Story title</b>: ' + feature.properties['Story title'];

				if (feature.properties['Building']) {
					popupText += '<br/><br/><b>Building</b>: ' + feature.properties['Building'] ;
				}

				if (feature.properties['Room']) {
					popupText += ' <b>Room</b>: ' + feature.properties['Room'];
				}

				if (feature.properties['MicroMemory Description']) {
					popupText += '<br/><br/><b>Description</b>: ' + feature.properties['MicroMemory Description'];
				}

				if (feature.properties['Audio clip']) {
					popupText += '<br/><br/><b>Audio clip</b>: ' + feature.properties['Audio clip'];
				}

				if (feature.properties['Image']) {
					popupText += '<br/>' + feature.properties['Image'];
				}

				layer.bindPopup(popupText);
			}
		});
		markers.addLayer(geoJsonLayer);

		map.addLayer(markers);
		map.fitBounds(markers.getBounds());
	</script>
</body>
</html>
